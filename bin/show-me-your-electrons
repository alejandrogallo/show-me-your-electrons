#! /usr/bin/env python

import smye
import argparse

parser = argparse.ArgumentParser()


parser.add_argument("file", help="Input file in OUTCAR format")
parser.add_argument("-v", "--verbose", help="Make the output verbose", action="store_true")
parser.add_argument("--ascii", help="Print the electron configuration in ascii format", action="store_true")
parser.add_argument("-g", "--gap", help="Get band gap", action="store_true")
parser.add_argument("-n", "--excited", help="Get nth excited energy (from above)", action="store")
parser.add_argument("-s", "--spin", help="Together with -n, spin channel (1 or 2)", action="store")


args = parser.parse_args()


print(smye.LOGO)


if args.verbose:
    print("Making the output verbose...")
    smye.smye.VERBOSE=True
else:
    smye.smye.VERBOSE=False

diagram = smye.Diagram(args.file)
diagram.getConfiguration()


if args.ascii:
    print("Displaying contents of %s in ascii"%args.file)
    diagram.showASCII()

if args.gap:
    diagram.getBandGap();

if args.excited and args.spin:
    diagram.getNthExcitedEnergy(int(args.excited), args.spin)
